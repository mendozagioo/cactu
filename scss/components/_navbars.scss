//
// Navbars
// --------------------------------------------------


// Variables
//
$navbar-padding-y:    0 !default;
$navbar-padding-x:    15px !default;
$navbar-background:   $white-smoke !default;
$toggler-color:       $text-color !default;
$link-padding-y:      .9375rem !default;
$brand-gap:           .625rem !default;


.navbar,
.navbar-expanded {
  position: relative;
  display: flex;
  flex-wrap: wrap; // allow us to do the line break for collapsing content
  align-items: center;
  background-color: $navbar-background;

  a {
    text-decoration: none;
  }

  nav {
    a {
      padding: $link-padding-y;
    }
  }

  // Because flex properties aren't inherited, we need to redeclare these first
  // few properities so that c  ontent nested within behave properly.
  [class*="column"] {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
  }

  .navbar-toggler {
    width: auto;
    height: 40px;
    margin: 7px 0;
    background: none;
  }

  [type="checkbox"] {
    display: none;

    &:checked {
      & ~ nav {
        display: flex;
      }

      & ~ .navbar-toggler > .menu-icon {
        &:before {
          transform: rotate(45deg);
          margin-top: 12px;
        }

        &:after {
          transform: rotate(-45deg);
          margin-top: -9px;
        }
      }
    }
  }

  .navbar-brand {
    margin-right: $brand-gap;
  }
}

.navbar-expanded {
  padding: $navbar-padding-y $navbar-padding-x;

  // Set grid padding between cellphone and medium desktop sizes
  @include breakpoint-cellphone-medium-desktop {
    padding: $navbar-padding-y ($navbar-padding-x - 5px);
  }
}

.sticky-navbar {
  position: sticky;
  top: 0;
  z-index: $zindex-top;
}

@include breakpoint-max($tablet-size - 1) {
  .navbar,
  .navbar-expanded {
    justify-content: space-between;

    nav {
      display: none;
      width: 100%;
      flex-direction: column;

      a {
        padding: .625rem 0;
      }
    }
  }

  .navbar {
    [class*="column"] {
      justify-content: space-between;
    }
  }
}

@include breakpoint-min($tablet-size) {
  .navbar,
  .navbar-expanded {
    justify-content: start;

    nav {
      display: flex;
    }

    .navbar-toggler {
      display: none;
    }
  }
}